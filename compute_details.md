# Available VMs

| Name              | GPU Type | Price ($) / hour | FP16 EFLOPs | RAM   | Cores | Disk  |
|-------------------|----------|------------------|-------------|-------|-------|-------|
| <span style="font-size:20px;">**SPOT GPUs**</span> |          |                  |             |       |       |       |
| [spot-a100-80G-1](https://portal.azure.com/#@prashantcseiitkgpgmail.onmicrosoft.com/resource/subscriptions/8a408082-31b4-40df-9ddc-068045d0f920/resourceGroups/spot-gpu/providers/Microsoft.Compute/virtualMachines/spot-a100-80G-1/overview)   | A100     | 0.6$             | 0.3         | 220GB | 24    | 64GB  |
| [spot-a100-80G-2](https://portal.azure.com/#@prashantcseiitkgpgmail.onmicrosoft.com/resource/subscriptions/8a408082-31b4-40df-9ddc-068045d0f920/resourceGroups/spot-gpu/providers/Microsoft.Compute/virtualMachines/spot-a100-80G-2/overview)   | A100     | 0.6$             | 0.3         | 220GB | 24    | 64GB  |
| [spot-a100-80G-3](https://portal.azure.com/#@prashantcseiitkgpgmail.onmicrosoft.com/resource/subscriptions/8a408082-31b4-40df-9ddc-068045d0f920/resourceGroups/spot-gpu/providers/Microsoft.Compute/virtualMachines/spot-a100-80G-3/overview)   | A100     | 0.6$             | 0.3         | 220GB | 24    | 64GB  |
| [spot-a100-80G-4](https://portal.azure.com/#@prashantcseiitkgpgmail.onmicrosoft.com/resource/subscriptions/8a408082-31b4-40df-9ddc-068045d0f920/resourceGroups/spot-gpu/providers/Microsoft.Compute/virtualMachines/spot-a100-80G-4/overview)   | A100     | 0.6$             | 0.3         | 220GB | 24    | 64GB  |
| [spot-a100-80G-5](https://portal.azure.com/#@prashantcseiitkgpgmail.onmicrosoft.com/resource/subscriptions/8a408082-31b4-40df-9ddc-068045d0f920/resourceGroups/spot-gpu/providers/Microsoft.Compute/virtualMachines/spot-a100-80G-5/overview)   | A100     | 0.6$             | 0.3         | 220GB | 24    | 64GB  |
| [spot-a100x2-80G-1](https://portal.azure.com/#@prashantcseiitkgpgmail.onmicrosoft.com/resource/subscriptions/8a408082-31b4-40df-9ddc-068045d0f920/resourceGroups/spot-gpu/providers/Microsoft.Compute/virtualMachines/spot-a100x2-80G-1/overview) | A100x2   | 1.2$             | 0.6         | 440GB | 48    | 128GB |
| spot-a100x2-80G-2 | TBD      |                  |             |       |       |       |
| <span style="font-size:20px; text-align=center;">**Dedicated GPUS**</span>|          |                  |             |       |       |       |
| [h100-94Gx2-a1](https://ml.azure.com/compute/h100-94Gx2-a1/details?wsid=/subscriptions/8a408082-31b4-40df-9ddc-068045d0f920/resourceGroups/gpu/providers/Microsoft.MachineLearningServices/workspaces/eastus2-compute&tid=68005388-ef63-4e00-88a5-01adbd0da82e)     | H100x2   | 14$              | 1.7         | 640GB | 80    | 256GB |
| [h100-94Gx2-a2](https://ml.azure.com/compute/h100-94Gx2-a2/details?wsid=/subscriptions/8a408082-31b4-40df-9ddc-068045d0f920/resourceGroups/gpu/providers/Microsoft.MachineLearningServices/workspaces/eastus2-compute&tid=68005388-ef63-4e00-88a5-01adbd0da82e)     | H100x2   | 14$              | 1.7         | 640GB | 80    | 256GB |
| [h100-94G-a1](https://ml.azure.com/compute/h100-94G-a1/details?wsid=/subscriptions/8a408082-31b4-40df-9ddc-068045d0f920/resourceGroups/gpu/providers/Microsoft.MachineLearningServices/workspaces/eastus2-compute&tid=68005388-ef63-4e00-88a5-01adbd0da82e)       | H100     | 7$               | 0.8         | 320GB | 40    | 128GB |
| [h100-94G-a2](https://ml.azure.com/compute/h100-94G-a2/details?wsid=/subscriptions/8a408082-31b4-40df-9ddc-068045d0f920/resourceGroups/gpu/providers/Microsoft.MachineLearningServices/workspaces/eastus2-compute&tid=68005388-ef63-4e00-88a5-01adbd0da82e)       | H100     | 7$               | 0.8         | 320GB | 40    | 128GB |
| [h100-94G-a3](https://ml.azure.com/compute/h100-94G-a3/details?wsid=/subscriptions/8a408082-31b4-40df-9ddc-068045d0f920/resourceGroups/gpu/providers/Microsoft.MachineLearningServices/workspaces/eastus2-compute&tid=68005388-ef63-4e00-88a5-01adbd0da82e)       | H100     | 7$               | 0.8         | 320GB | 40    | 128GB |
| [h100-94G-a4](https://ml.azure.com/compute/h100-94G-a4/details?wsid=/subscriptions/8a408082-31b4-40df-9ddc-068045d0f920/resourceGroups/gpu/providers/Microsoft.MachineLearningServices/workspaces/eastus2-compute&tid=68005388-ef63-4e00-88a5-01adbd0da82e)       | H100     | 7$               | 0.8         | 320GB | 40    | 128GB |
| [h100-94G-a5](https://ml.azure.com/compute/h100-94G-a5/details?wsid=/subscriptions/8a408082-31b4-40df-9ddc-068045d0f920/resourceGroups/gpu/providers/Microsoft.MachineLearningServices/workspaces/eastus-compute&tid=68005388-ef63-4e00-88a5-01adbd0da82e)       | H100     | 7$               | 0.8         | 320GB | 40    | 128GB |
| [a100-80G-a1](https://ml.azure.com/compute/a100-80G-a1/details?wsid=/subscriptions/8a408082-31b4-40df-9ddc-068045d0f920/resourceGroups/gpu/providers/Microsoft.MachineLearningServices/workspaces/eastus2-compute&tid=68005388-ef63-4e00-88a5-01adbd0da82e)       | A100     | 3.8$             | 0.3         | 220GB | 24    | 64GB  |


# DO's and DON'Ts

### Work in your own directory
Create a directory for yourself like /home/azureuser/{username}/ like /home/azureuser/pshishodia. 

Try to **ALWAYS** work in your directory. If you're doing a git clone do it in **YOUR** directory. All of us will be sharing these VMs, and it's important to reduce confusion. 

### Which VM to use?
Here's a rough guide:
1. **Spot A100s** : Use these as much as possible. They costs us pennies and are like 1000x faster than Macbooks. Even if you're coding & would need to sparsely run the programs, just use spot A100 VMs. Use your laptop as little as possible. **Your time is much more valuable** than $0.6 / hour. 
2. **Spot A100x2** : Use this to test  / learning distributed training codebases. 
3. **Dedicated A100** : We've only 1 such A100 and don't intend to get more, because spot A100 work just as fine, and that A100 are much less cost efficient than H100. Use this if there are not Spot A100 available. 
4. **Dedicated H100** : Use this once you've tested & verified your code on your A100. This will give an instant 2.5x speedup over A100. You should use this freely, without worrying about costs, but make sure you're not wasting it on active coding, or fixing errors which should have been done on a Spot A100. 
5. **Dedicated H100x2** : Use this, once you're done with your prototyping & small experiments on H100, and have verified distributed training code on Spot A100x2 and are looking to do a final/longer training run (takes more than a day). Note that this is a bit costly $350/day. So use only when you're sure a single H100 isn't enough or will take too much time.


### Virtual Environments
Always use python's virtual environments, and make life easy for others who may use the VM later on. 

### Let others Know
Whenever you're using a machine put your name in this [google sheet](https://docs.google.com/spreadsheets/d/1fj4IdFKV_d8P0Hcq4zCqIYOTMDv27kqq65L6C1U-qvw/edit?gid=0#gid=0) against the VM. You don't really need to delete the name once you're done using it. 

The goal is to have minimum number of users who have their work saved on a single VM. 

### Always Git
It may happen, even though rarely that, someone mistakenly removed your unsaved work from the VM. Try to use git as much as possible. Even create dummy branches for rough work if needed. 

### Turn off the VMs
If you don't turn them off, we'll be actively charged. If we let a single H100x2 run for a few days, we'll be out of money. A rule of thumb to decide whether to turn it off is - are you doing anything on this VM in the next 30-40 minutes? If not, turn it off. You may not need to follow it strictly with spot machines though, they're extremely cheap, so you can leave them running say by an hour or two but not more. 


